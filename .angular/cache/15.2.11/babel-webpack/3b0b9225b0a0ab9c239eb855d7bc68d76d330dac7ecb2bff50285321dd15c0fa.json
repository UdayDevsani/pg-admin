{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, EventEmitter, Input, Output } from '@angular/core';\nlet AddBookingComponent = class AddBookingComponent {\n  constructor(fb, bookingService) {\n    this.fb = fb;\n    this.bookingService = bookingService;\n    this.isEditMode = false;\n    this.bookingUpdated = new EventEmitter();\n    this.bookingForm = this.fb.group({\n      user_id: [''],\n      room_id: [''],\n      start_date: [''],\n      end_date: [''],\n      status: ['']\n    });\n  }\n  ngOnChanges() {\n    if (this.isEditMode && this.booking) {\n      this.bookingForm.patchValue(this.booking);\n    } else {\n      this.bookingForm.reset();\n    }\n  }\n  onSubmit() {\n    if (this.isEditMode) {\n      this.bookingService.updateBooking(this.bookingForm.value).subscribe(() => {\n        this.bookingUpdated.emit();\n        this.closeModal();\n      });\n    } else {\n      this.bookingService.createBooking(this.bookingForm.value).subscribe(() => {\n        this.bookingUpdated.emit();\n        this.closeModal();\n      });\n    }\n  }\n  closeModal() {\n    const modalElement = document.getElementById('addEditBookingModal');\n    const modal = bootstrap.Modal.getInstance(modalElement);\n    modal.hide();\n  }\n};\n__decorate([Input()], AddBookingComponent.prototype, \"booking\", void 0);\n__decorate([Input()], AddBookingComponent.prototype, \"isEditMode\", void 0);\n__decorate([Output()], AddBookingComponent.prototype, \"bookingUpdated\", void 0);\nAddBookingComponent = __decorate([Component({\n  selector: 'app-add-booking',\n  templateUrl: './add-booking.component.html',\n  styleUrls: ['./add-booking.component.css']\n})], AddBookingComponent);\nexport { AddBookingComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,EAAEC,YAAY,EAAEC,KAAK,EAAEC,MAAM,QAAQ,eAAe;AAW/D,IAAMC,mBAAmB,GAAzB,MAAMA,mBAAmB;EAQ9BC,YAAoBC,EAAe,EAAUC,cAA8B;IAAvD,OAAE,GAAFD,EAAE;IAAuB,mBAAc,GAAdC,cAAc;IALlD,eAAU,GAAY,KAAK;IAC1B,mBAAc,GAAG,IAAIN,YAAY,EAAQ;IAKjD,IAAI,CAACO,WAAW,GAAG,IAAI,CAACF,EAAE,CAACG,KAAK,CAAC;MAC/BC,OAAO,EAAE,CAAC,EAAE,CAAC;MACbC,OAAO,EAAE,CAAC,EAAE,CAAC;MACbC,UAAU,EAAE,CAAC,EAAE,CAAC;MAChBC,QAAQ,EAAE,CAAC,EAAE,CAAC;MACdC,MAAM,EAAE,CAAC,EAAE;KACZ,CAAC;EACJ;EAEAC,WAAW;IACT,IAAI,IAAI,CAACC,UAAU,IAAI,IAAI,CAACC,OAAO,EAAE;MACnC,IAAI,CAACT,WAAW,CAACU,UAAU,CAAC,IAAI,CAACD,OAAO,CAAC;KAC1C,MAAM;MACL,IAAI,CAACT,WAAW,CAACW,KAAK,EAAE;;EAE5B;EAEAC,QAAQ;IACN,IAAI,IAAI,CAACJ,UAAU,EAAE;MACnB,IAAI,CAACT,cAAc,CAACc,aAAa,CAAC,IAAI,CAACb,WAAW,CAACc,KAAK,CAAC,CAACC,SAAS,CAAC,MAAK;QACvE,IAAI,CAACC,cAAc,CAACC,IAAI,EAAE;QAC1B,IAAI,CAACC,UAAU,EAAE;MACnB,CAAC,CAAC;KACH,MAAM;MACL,IAAI,CAACnB,cAAc,CAACoB,aAAa,CAAC,IAAI,CAACnB,WAAW,CAACc,KAAK,CAAC,CAACC,SAAS,CAAC,MAAK;QACvE,IAAI,CAACC,cAAc,CAACC,IAAI,EAAE;QAC1B,IAAI,CAACC,UAAU,EAAE;MACnB,CAAC,CAAC;;EAEN;EAEAA,UAAU;IACR,MAAME,YAAY,GAAGC,QAAQ,CAACC,cAAc,CAAC,qBAAqB,CAAC;IACnE,MAAMC,KAAK,GAAGC,SAAS,CAACC,KAAK,CAACC,WAAW,CAACN,YAAY,CAAC;IACvDG,KAAK,CAACI,IAAI,EAAE;EACd;CACD;AA3CUC,YAARlC,KAAK,EAAE,oDAAc;AACbkC,YAARlC,KAAK,EAAE,uDAA6B;AAC3BkC,YAATjC,MAAM,EAAE,2DAA2C;AAJzCC,mBAAmB,eAL/BJ,SAAS,CAAC;EACTqC,QAAQ,EAAE,iBAAiB;EAC3BC,WAAW,EAAE,8BAA8B;EAC3CC,SAAS,EAAE,CAAC,6BAA6B;CAC1C,CAAC,GACWnC,mBAAmB,CA6C/B;SA7CYA,mBAAmB","names":["Component","EventEmitter","Input","Output","AddBookingComponent","constructor","fb","bookingService","bookingForm","group","user_id","room_id","start_date","end_date","status","ngOnChanges","isEditMode","booking","patchValue","reset","onSubmit","updateBooking","value","subscribe","bookingUpdated","emit","closeModal","createBooking","modalElement","document","getElementById","modal","bootstrap","Modal","getInstance","hide","__decorate","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["D:\\github\\pg-admin\\src\\app\\pages\\booking-rooms\\add-booking\\add-booking.component.ts"],"sourcesContent":["import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { BookingRoomsService } from 'src/app/services/booking-rooms/booking-rooms.service';\n\ndeclare var bootstrap: any;\n\n@Component({\n  selector: 'app-add-booking',\n  templateUrl: './add-booking.component.html',\n  styleUrls: ['./add-booking.component.css']\n})\nexport class AddBookingComponent {\n\n  @Input() booking: any;\n  @Input() isEditMode: boolean = false;\n  @Output() bookingUpdated = new EventEmitter<void>();\n\n  bookingForm: FormGroup;\n\n  constructor(private fb: FormBuilder, private bookingService: BookingService) {\n    this.bookingForm = this.fb.group({\n      user_id: [''],\n      room_id: [''],\n      start_date: [''],\n      end_date: [''],\n      status: ['']\n    });\n  }\n\n  ngOnChanges() {\n    if (this.isEditMode && this.booking) {\n      this.bookingForm.patchValue(this.booking);\n    } else {\n      this.bookingForm.reset();\n    }\n  }\n\n  onSubmit() {\n    if (this.isEditMode) {\n      this.bookingService.updateBooking(this.bookingForm.value).subscribe(() => {\n        this.bookingUpdated.emit();\n        this.closeModal();\n      });\n    } else {\n      this.bookingService.createBooking(this.bookingForm.value).subscribe(() => {\n        this.bookingUpdated.emit();\n        this.closeModal();\n      });\n    }\n  }\n\n  closeModal() {\n    const modalElement = document.getElementById('addEditBookingModal');\n    const modal = bootstrap.Modal.getInstance(modalElement);\n    modal.hide();\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}