{"ast":null,"code":"import { AddUserComponent } from './add-user/add-user.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/pg-user/pg-user.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"./add-user/add-user.component\";\nfunction PgUserComponent_tr_41_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\")(16, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function PgUserComponent_tr_41_Template_button_click_16_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const user_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.openEditPGUserModal(user_r1));\n    });\n    i0.ɵɵtext(17, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function PgUserComponent_tr_41_Template_button_click_18_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const user_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.deletePGUser(user_r1.pg_user_id));\n    });\n    i0.ɵɵtext(19, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const user_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r1.full_name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r1.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r1.phone_number);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r1.address);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r1.room_id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r1.booking_id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r1.status);\n  }\n}\nexport class PgUserComponent {\n  constructor(pgUserService) {\n    this.pgUserService = pgUserService;\n    this.pgUsers = [];\n    this.isEditMode = false;\n  }\n  ngOnInit() {\n    this.loadPGUsers();\n  }\n  loadPGUsers() {\n    this.pgUserService.getPGUsers().subscribe(users => {\n      this.pgUsers = users;\n    });\n  }\n  openAddPGUserModal() {\n    this.isEditMode = false;\n    this.selectedUser = null;\n    const modalElement = document.getElementById('addEditPGUserModal');\n    const modal = new bootstrap.Modal(modalElement);\n    modal.show();\n  }\n  openEditPGUserModal(user) {\n    this.isEditMode = true;\n    this.selectedUser = user;\n    const modalElement = document.getElementById('addEditPGUserModal');\n    const modal = new bootstrap.Modal(modalElement);\n    modal.show();\n  }\n  deletePGUser(id) {\n    this.pgUserService.deletePGUser(id).subscribe(() => {\n      this.loadPGUsers();\n    });\n  }\n  onPGUserUpdated() {\n    this.loadPGUsers();\n  }\n  static #_ = this.ɵfac = function PgUserComponent_Factory(t) {\n    return new (t || PgUserComponent)(i0.ɵɵdirectiveInject(i1.PgUserService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PgUserComponent,\n    selectors: [[\"app-pg-user\"]],\n    viewQuery: function PgUserComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(AddUserComponent, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.addEditPgUserModal = _t.first);\n      }\n    },\n    decls: 43,\n    vars: 3,\n    consts: [[1, \"pagetitle\"], [1, \"breadcrumb\"], [1, \"breadcrumb-item\"], [\"href\", \"index.html\"], [1, \"breadcrumb-item\", \"active\"], [1, \"section\"], [1, \"row\"], [1, \"col-lg-12\"], [1, \"card\"], [1, \"card-body\"], [1, \"card-title\", \"d-flex\", \"justify-content-between\", \"align-items-center\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"table\", \"datatable\"], [4, \"ngFor\", \"ngForOf\"], [3, \"pgUser\", \"isEditMode\", \"pgUserUpdated\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", 3, \"click\"]],\n    template: function PgUserComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n        i0.ɵɵtext(2, \"PG Users Tables\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"nav\")(4, \"ol\", 1)(5, \"li\", 2)(6, \"a\", 3);\n        i0.ɵɵtext(7, \"Home\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(8, \"li\", 2);\n        i0.ɵɵtext(9, \"PG Users\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"li\", 4);\n        i0.ɵɵtext(11, \"PG Users Tables\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(12, \"section\", 5)(13, \"div\", 6)(14, \"div\", 7)(15, \"div\", 8)(16, \"div\", 9)(17, \"h5\", 10);\n        i0.ɵɵtext(18, \" User's List \");\n        i0.ɵɵelementStart(19, \"button\", 11);\n        i0.ɵɵlistener(\"click\", function PgUserComponent_Template_button_click_19_listener() {\n          return ctx.openAddPGUserModal();\n        });\n        i0.ɵɵtext(20, \"Add PG User\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(21, \"table\", 12)(22, \"thead\")(23, \"tr\")(24, \"th\");\n        i0.ɵɵtext(25, \"Full Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"th\");\n        i0.ɵɵtext(27, \"Email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"th\");\n        i0.ɵɵtext(29, \"Phone Number\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"th\");\n        i0.ɵɵtext(31, \"Address\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"th\");\n        i0.ɵɵtext(33, \"Room ID\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"th\");\n        i0.ɵɵtext(35, \"Booking ID\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"th\");\n        i0.ɵɵtext(37, \"Status\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"th\");\n        i0.ɵɵtext(39, \"Actions\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(40, \"tbody\");\n        i0.ɵɵtemplate(41, PgUserComponent_tr_41_Template, 20, 7, \"tr\", 13);\n        i0.ɵɵelementEnd()()()()()()();\n        i0.ɵɵelementStart(42, \"app-add-user\", 14);\n        i0.ɵɵlistener(\"pgUserUpdated\", function PgUserComponent_Template_app_add_user_pgUserUpdated_42_listener() {\n          return ctx.onPGUserUpdated();\n        });\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(41);\n        i0.ɵɵproperty(\"ngForOf\", ctx.pgUsers);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"pgUser\", ctx.selectedUser)(\"isEditMode\", ctx.isEditMode);\n      }\n    },\n    dependencies: [i2.NgForOf, i3.AddUserComponent],\n    styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["AddUserComponent","i0","PgUserComponent","constructor","pgUserService","ngOnInit","loadPGUsers","getPGUsers","subscribe","users","pgUsers","openAddPGUserModal","isEditMode","selectedUser","modalElement","document","getElementById","modal","bootstrap","Modal","show","openEditPGUserModal","user","deletePGUser","id","onPGUserUpdated","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["D:\\github\\pg-admin\\src\\app\\pages\\pg-user\\pg-user.component.ts","D:\\github\\pg-admin\\src\\app\\pages\\pg-user\\pg-user.component.html"],"sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\nimport { PgUserService } from 'src/app/services/pg-user/pg-user.service';\nimport { AddUserComponent } from './add-user/add-user.component';\n\ndeclare var bootstrap: any;\n\n@Component({\n  selector: 'app-pg-user',\n  templateUrl: './pg-user.component.html',\n  styleUrls: ['./pg-user.component.css']\n})\nexport class PgUserComponent implements OnInit {\n  pgUsers: any[] = [];\n  selectedUser: any;\n  isEditMode: boolean = false;\n\n  @ViewChild(AddUserComponent) addEditPgUserModal!: AddUserComponent;\n\n  constructor(private pgUserService: PgUserService) {}\n\n  ngOnInit(): void {\n    this.loadPGUsers();\n  }\n\n  loadPGUsers() {\n    this.pgUserService.getPGUsers().subscribe((users) => {\n      this.pgUsers = users;\n    });\n  }\n\n  openAddPGUserModal() {\n    this.isEditMode = false;\n    this.selectedUser = null;\n    const modalElement = document.getElementById('addEditPGUserModal');\n    const modal = new bootstrap.Modal(modalElement);\n    modal.show();\n  }\n\n  openEditPGUserModal(user: any) {\n    this.isEditMode = true;\n    this.selectedUser = user;\n    const modalElement = document.getElementById('addEditPGUserModal');\n    const modal = new bootstrap.Modal(modalElement);\n    modal.show();\n  }\n\n  deletePGUser(id: number) {\n    this.pgUserService.deletePGUser(id).subscribe(() => {\n      this.loadPGUsers();\n    });\n  }\n\n  onPGUserUpdated() {\n    this.loadPGUsers();\n  }\n}\n","<div class=\"pagetitle\">\n  <h1>PG Users Tables</h1>\n  <nav>\n    <ol class=\"breadcrumb\">\n      <li class=\"breadcrumb-item\"><a href=\"index.html\">Home</a></li>\n      <li class=\"breadcrumb-item\">PG Users</li>\n      <li class=\"breadcrumb-item active\">PG Users Tables</li>\n    </ol>\n  </nav>\n</div>\n\n<section class=\"section\">\n  <div class=\"row\">\n    <div class=\"col-lg-12\">\n      <div class=\"card\">\n        <div class=\"card-body\">\n          <h5 class=\"card-title d-flex justify-content-between align-items-center\">\n            User's List\n            <button type=\"button\" class=\"btn btn-primary\" (click)=\"openAddPGUserModal()\">Add PG User</button>\n          </h5>\n\n          <!-- Table displaying PG Users -->\n          <table class=\"table datatable\">\n            <thead>\n              <tr>\n                <th>Full Name</th>\n                <th>Email</th>\n                <th>Phone Number</th>\n                <th>Address</th>\n                <th>Room ID</th>\n                <th>Booking ID</th>\n                <th>Status</th>\n                <th>Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr *ngFor=\"let user of pgUsers\">\n                <td>{{ user.full_name }}</td>\n                <td>{{ user.email }}</td>\n                <td>{{ user.phone_number }}</td>\n                <td>{{ user.address }}</td>\n                <td>{{ user.room_id }}</td>\n                <td>{{ user.booking_id }}</td>\n                <td>{{ user.status }}</td>\n                <td>\n                  <button type=\"button\" class=\"btn btn-primary\" (click)=\"openEditPGUserModal(user)\">Edit</button>\n                  <button type=\"button\" class=\"btn btn-danger\" (click)=\"deletePGUser(user.pg_user_id)\">Delete</button>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n</section>\n\n<!-- Modal for Adding/Editing PG User -->\n<app-add-user\n  [pgUser]=\"selectedUser\"\n  [isEditMode]=\"isEditMode\"\n  (pgUserUpdated)=\"onPGUserUpdated()\">\n</app-add-user>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}